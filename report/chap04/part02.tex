\phantomsection
\subsection{Sơ đồ tuần tự "Cập nhật diễn biến trận đấu"}
\setcounter{figure}{0}

Chức năng "Cập nhật diễn biến trận đấu" là một trong các chức năng của actor "Trưởng ban tổ chức". Chức năng này đã được thể hiện ở \myref{}. Sơ đồ tuần tự của chức năng này được thể hiện cụ thể ở \myref{} sau:

Người thiết kế: Hà Ngọc Linh B2207536
Sơ đồ này đã được đặc tả cục thể tại mô tả Use case "Cập nhật diễn biến trận đấu" ở \myreftb{}

\noindent
\textbf{Mô tả chức năng:} Cho phép Trưởng ban tổ chức cập nhật liên tục các diễn biến của trận đấu đang diễn ra lên hệ thống để người hâm mộ có thể theo dõi.

\noindent
\textbf{Điều kiện tiên quyết:} Trưởng ban tổ chức được cấp tài khoản từ Quản trị viên và đăng nhập thành công vào hệ thống.

\noindent
\textbf{Trình tự thực hiện:}
\begin{enumerate}
      \item Trưởng ban tổ chức sau khi đăng nhập vào hệ thống thì chọn danh mục Quản lý giải đấu.
      \item Hệ thống sẽ chuyển hướng đến giao diện Quản lý giải đấu.
      \item Trưởng ban tổ chức chọn danh mục Tạo giải đấu.
      \item Hệ thống sẽ lấy danh sách giải đấu và hiển thị lên màn hình.
      \item Trưởng ban tổ chức chọn giải đấu cần cập nhật.
      \item Hệ thống sẽ lấy danh sách các trận đấu của giải đấu đó và hiển thị lên màn hình.
      \item Trưởng ban tổ chức chọn trận đấu cần cập nhật.
      \item Hệ thống sẽ lấy danh sách các đội tham gia trận đấu đó và hiển thị lên màn hình. \\
            \textbf{[Rẽ nhánh]}
      \item Nếu trận đấu đã kết thúc [trangThai == ketThuc]. Thông báo lỗi trận đấu đã kết thúc. Trở về giao diện Quản lý trận đâu. Kết thúc tiến trình. \textbf{[Rẽ nhánh 1]}
      \item Nếu trận đấu đang diễn ra [trangThai == dangDienRa]. Trưởng ban tổ chức tiến hành chọn đội cần cập nhật. \textbf{[Rẽ nhánh 2]}
      \item Hệ thống sẽ lấy danh sách các VDV của đội đó và hiển thị lên màn hình.
      \item Trưởng ban tổ chức chọn VDV cần cập nhật.
      \item Trưởng ban tổ chức chọn mục cần cập nhật là điểm hoặc lỗi.
      \item Trưởng ban tổ chức chọn cập nhật điểm \textbf{[Tùy chọn 1]}
            \textbf{[Loop]}
      \item Trưởng ban tổ chức tiến hành cập nhật thông tin của điểm.
      \item Trưởng ban tổ chức nhấn vào nút thoát. \textbf{[Tùy chọn 1.1]}
      \item Hệ thống chuyển hướng đến giao diện Quản lý trận đấu. Kết thúc tiến trình.
            \textbf{[Kết thúc tùy chọn 1.1]}
      \item Trưởng ban tổ chức xác nhận thông tin cập nhật và nhấn cập nhật điểm.
      \item Hệ thống gọi phương thức kiemTraHopLe() để kiểm tra tính hợp lệ của thông tin vừa nhập.
      \item Trả về kết quả kiểm tra.
            \textbf{[Rẽ nhánh]}
      \item Nếu thông tin vừa nhập không hợp lệ [ketqua == false]. Thông báo lỗi nhập liệu cụ thể cho trưởng ban tổ chức. Trở về giao diện Cập nhật thông tin trận đấu, tiếp tục vòng lặp.\textbf{[Rẽ nhánh 2.1]}
      \item Ngược lại, nếu thông tin nhập hợp lệ [ketQua == true]. Hệ thống đồng thời tiến hành lưu thay đổi và gửi thông báo diễn biến mới đến những người dùng có quan tâm đến trận đấu.\textbf{[Rẽ nhánh 2.2]}
      \item Hệ thống trả về thông báo Cập nhật điểm thành công.
      \item Giao diện thông báo cho Trưởng ban tổ chức việc cập nhật điểm đã thành công. Hiển thi giao diện Quản lý trận đấu. Thoát khỏi vòng lặp.
            \textbf{[Kết thúc tùy chọn 1]}
      \item Trưởng ban tổ chức chọn cập nhật lỗi \textbf{[Tùy chọn 2]}
            \textbf{[Loop]}
      \item Trưởng ban tổ chức tiến hành cập nhật thông tin của lỗi.
      \item Trưởng ban tổ chức nhấn vào nút thoát. \textbf{[Tùy chọn 2.1]}
      \item Hệ thống chuyển hướng đến giao diện Quản lý trận đấu. Kết thúc tiến trình. \\
            \textbf{[Kết thúc tùy chọn 2.1]}
      \item Trưởng ban tổ chức xác nhận thông tin cập nhật và nhấn cập nhật lỗi.
      \item Hệ thống gọi phương thức kiemTraHopLe() để kiểm tra tính hợp lệ của thông tin vừa nhập.
      \item Trả về kết quả kiểm tra.\\
            \textbf{[Rẽ nhánh]}
      \item Nếu thông tin vừa nhập không hợp lệ [ketqua == false]. Thông báo lỗi nhập liệu cụ thể cho trưởng ban tổ chức. Trở về giao diện Cập nhật thông tin trận đấu, tiếp tục vòng lặp. \textbf{[Rẽ nhánh 2.3]}
      \item Ngược lại, nếu thông tin nhập hợp lệ [ketQua == true]. Hệ thống đồng thời tiến hành lưu thay đổi và gửi thông báo diễn biến mới đến những người dùng có quan tâm đến trận đấu. \textbf{[Rẽ nhánh 2.4]}
      \item Hệ thống trả về thông báo Cập nhật lỗi thành công.
      \item Giao diện thông báo cho Trưởng ban tổ chức việc Cập nhật lỗi đã thành công. Hiển thi giao diện Quản lý trận đấu. Thoát khỏi vòng lặp.
            \textbf{[Kết thúc tùy chọn 2]}
\end{enumerate}

\noindent
\textbf{Kết quả:} Thao tác Cập nhật diễn biến trận đấu thành công.

